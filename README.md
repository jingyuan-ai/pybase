# PyBase

ä¸€ä¸ªåŸºç¡€çš„ Python åŒ…ï¼Œæ”¯æŒå‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰å’Œå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ åŸºç¡€ Python åŒ…ç»“æ„
- ğŸ–¥ï¸ å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰æ”¯æŒ
- ğŸ–¼ï¸ å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰æ”¯æŒ
- ğŸ“¦ å¯é€‰ä¾èµ–ç®¡ç†
- ğŸ§ª å®Œæ•´çš„æµ‹è¯•æ¡†æ¶
- ğŸ”§ æ˜“äºæ‰©å±•å’Œå®šåˆ¶

## å®‰è£…

### åŸºç¡€å®‰è£…
```bash
pip install .
```

### å®‰è£… CLI åŠŸèƒ½
```bash
pip install .[cli]
```

### å®‰è£… GUI åŠŸèƒ½
```bash
pip install .[gui]
```

### å®‰è£…æµ‹è¯•åŠŸèƒ½
```bash
pip install .[test]
```

### å®‰è£…æ‰€æœ‰åŠŸèƒ½
```bash
pip install .[cli,gui,test]
```

## ä½¿ç”¨æ–¹æ³•

### å‘½ä»¤è¡Œç•Œé¢ (CLI)

å®‰è£… CLI åŠŸèƒ½åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æŸ¥çœ‹å¸®åŠ©
pybase --help

# é—®å€™å‘½ä»¤
pybase hello
pybase hello --name å¼ ä¸‰

# åˆ—å‡ºé¡¹ç›®ä¿¡æ¯
pybase list
pybase list --count 10

# æ˜¾ç¤ºè¿›åº¦æ¡ç¤ºä¾‹
pybase progress
```

### å›¾å½¢ç”¨æˆ·ç•Œé¢ (GUI)

å®‰è£… GUI åŠŸèƒ½åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ï¼š

```bash
# å¯åŠ¨ GUI åº”ç”¨
pybase-gui

# æˆ–è€…ç›´æ¥è¿è¡Œ Python æ–‡ä»¶
python src/pybase/gui.py
```

GUI åº”ç”¨åŒ…å«å››ä¸ªä¸»è¦åŠŸèƒ½æ ‡ç­¾é¡µï¼š

1. **åŸºç¡€åŠŸèƒ½** - ç”¨æˆ·è¾“å…¥ã€é—®å€™ã€ä¸»é¢˜é€‰æ‹©
2. **è®¡ç®—å™¨** - ç®€å•çš„å››åˆ™è¿ç®—
3. **æ–‡ä»¶æ“ä½œ** - æ–‡ä»¶è¯»å–ã€ç¼–è¾‘ã€ä¿å­˜
4. **è¿›åº¦æ¼”ç¤º** - è¿›åº¦æ¡å’ŒåŠ¨ç”»æ¼”ç¤º

## æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šç±»å‹çš„æµ‹è¯•
pytest -m unit      # å•å…ƒæµ‹è¯•
pytest -m cli       # CLI æµ‹è¯•
pytest -m gui       # GUI æµ‹è¯•
pytest -m integration  # é›†æˆæµ‹è¯•

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src/pybase --cov-report=html:htmlcov
```

### æµ‹è¯•ç‰¹æ€§
- **pytest æ’ä»¶**: è‡ªå®šä¹‰æµ‹è¯•å·¥å…·å’Œæ ‡è®°
- **æµ‹è¯•æ•°æ®ç®¡ç†**: è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œç›®å½•
- **CLI æµ‹è¯•**: å®Œæ•´çš„å‘½ä»¤è¡Œæµ‹è¯•æ”¯æŒ
- **GUI æµ‹è¯•**: æ¨¡æ‹Ÿå’ŒçœŸå®ç¯å¢ƒæµ‹è¯•
- **è¦†ç›–ç‡æŠ¥å‘Š**: HTML å’Œç»ˆç«¯è¦†ç›–ç‡æ˜¾ç¤º

è¯¦ç»†æµ‹è¯•è¯´æ˜è¯·å‚è€ƒ [æµ‹è¯•æŒ‡å—](docs/TESTING.md)

## é¡¹ç›®ç»“æ„

```
pybase/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ pybase/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ utils.py
â”‚       â”œâ”€â”€ cli.py          # CLI åŠŸèƒ½
â”‚       â”œâ”€â”€ gui.py          # GUI åŠŸèƒ½
â”‚       â””â”€â”€ testing.py      # pytest æ’ä»¶
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py         # pytest é…ç½®
â”‚   â”œâ”€â”€ test_utils.py       # å·¥å…·å‡½æ•°æµ‹è¯•
â”‚   â”œâ”€â”€ test_cli.py         # CLI åŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ test_gui.py         # GUI åŠŸèƒ½æµ‹è¯•
â”‚   â””â”€â”€ test_simple.py      # ç®€å•æµ‹è¯•
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ TESTING.md          # æµ‹è¯•è¯¦ç»†è¯´æ˜
â”œâ”€â”€ pyproject.toml          # é¡¹ç›®é…ç½®
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## ä¾èµ–è¯´æ˜

### åŸºç¡€ä¾èµ–
- `numpy` - æ•°å€¼è®¡ç®—åº“

### CLI å¯é€‰ä¾èµ–
- `rich` - ç»ˆç«¯ç¾åŒ–è¾“å‡º
- `click` - å‘½ä»¤è¡Œç•Œé¢æ¡†æ¶

### GUI å¯é€‰ä¾èµ–
- `PyQt5` - è·¨å¹³å° GUI æ¡†æ¶

### æµ‹è¯•å¯é€‰ä¾èµ–
- `pytest` - æµ‹è¯•æ¡†æ¶
- `pytest-cov` - è¦†ç›–ç‡æµ‹è¯•
- `pytest-mock` - æ¨¡æ‹Ÿæµ‹è¯•
- `pytest-html` - HTML æµ‹è¯•æŠ¥å‘Š

## å¼€å‘

### æœ¬åœ°å¼€å‘å®‰è£…
```bash
# å®‰è£…å¼€å‘ç‰ˆæœ¬
pip install -e .

# å®‰è£…æ‰€æœ‰å¯é€‰ä¾èµ–
pip install -e .[cli,gui,test]
```

### è¿è¡Œæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest tests/test_utils.py

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src/pybase --cov-report=html:htmlcov
```

### æ·»åŠ æ–°åŠŸèƒ½

#### æ·»åŠ æ–°çš„ CLI å‘½ä»¤
åœ¨ `src/pybase/cli.py` ä¸­æ·»åŠ ï¼š

```python
@cli.command()
@click.option('--option', default='value', help='é€‰é¡¹è¯´æ˜')
def new_command(option):
    """æ–°å‘½ä»¤çš„æè¿°"""
    console.print(f"æ–°å‘½ä»¤æ‰§è¡Œï¼Œé€‰é¡¹ï¼š{option}")
```

#### æ·»åŠ æ–°çš„ GUI æ ‡ç­¾é¡µ
åœ¨ `src/pybase/gui.py` ä¸­æ·»åŠ ï¼š

```python
def create_new_tab(self):
    """åˆ›å»ºæ–°æ ‡ç­¾é¡µ"""
    widget = QWidget()
    layout = QVBoxLayout(widget)
    
    # æ·»åŠ ä½ çš„æ§ä»¶
    title = QLabel("æ–°åŠŸèƒ½")
    layout.addWidget(title)
    
    return widget

# åœ¨ init_ui æ–¹æ³•ä¸­æ·»åŠ ï¼š
tab_widget.addTab(self.create_new_tab(), "æ–°åŠŸèƒ½")
```

#### æ·»åŠ æ–°çš„æµ‹è¯•
åœ¨ `tests/` ç›®å½•ä¸­åˆ›å»ºæµ‹è¯•æ–‡ä»¶ï¼š

```python
from .common import unit_test

@unit_test
def test_new_function():
    """æµ‹è¯•æ–°åŠŸèƒ½"""
    assert new_function() == expected_result
```

## ä¼˜åŠ¿

1. **æ¨¡å—åŒ–è®¾è®¡** - åŸºç¡€åŠŸèƒ½ã€CLIã€GUIã€æµ‹è¯•åˆ†ç¦»
2. **å¯é€‰ä¾èµ–** - ç”¨æˆ·æŒ‰éœ€å®‰è£…åŠŸèƒ½
3. **è·¨å¹³å°** - æ”¯æŒ Windowsã€macOSã€Linux
4. **å®Œæ•´æµ‹è¯•** - åŒ…å«å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€è¦†ç›–ç‡æŠ¥å‘Š
5. **æ˜“äºæ‰©å±•** - æ¸…æ™°çš„ä»£ç ç»“æ„å’Œæ–‡æ¡£
6. **ç”¨æˆ·å‹å¥½** - ç›´è§‚çš„ç•Œé¢å’Œæ“ä½œ

## è¯¦ç»†æ–‡æ¡£

- [æµ‹è¯•æŒ‡å—](docs/TESTING.md) - å®Œæ•´çš„æµ‹è¯•ä½¿ç”¨è¯´æ˜

## è®¸å¯è¯

MIT License

## ä½œè€…

damon <damon@china.com>